   1              		.cpu arm926ej-s
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"cyfxconfigfpga.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.comm	glChHandleUtoCPU,172,4
  17              		.global	glConfigDone
  18              		.data
  19              		.align	2
  22              	glConfigDone:
  23 0000 01000000 		.word	1
  24              		.global	filelen
  25              		.bss
  26              		.align	2
  29              	filelen:
  30 0000 00000000 		.space	4
  31              		.comm	glFxConfigFpgaAppEvent,40,4
  32              		.global	uiPacketSize
  33              		.align	1
  36              	uiPacketSize:
  37 0004 0000     		.space	2
  38 0006 0000     		.section	.rodata
  39              		.align	2
  40              	.LC0:
  41 0000 66696C65 		.ascii	"file length: %d\012\000"
  41      206C656E 
  41      6774683A 
  41      2025640A 
  41      00
  42              		.text
  43              		.align	2
  44              		.global	CyFxConfigFpga
  46              	CyFxConfigFpga:
  47              	.LFB0:
  48              		.file 1 "../cyfxconfigfpga.c"
   1:../cyfxconfigfpga.c **** /*
   2:../cyfxconfigfpga.c ****  * cyfxconfigfpga.c
   3:../cyfxconfigfpga.c ****  *
   4:../cyfxconfigfpga.c ****  *  Created on: Nov 26, 2012
   5:../cyfxconfigfpga.c ****  *      Author: rskv
   6:../cyfxconfigfpga.c ****  */
   7:../cyfxconfigfpga.c **** 
   8:../cyfxconfigfpga.c **** #include "cyu3system.h"
   9:../cyfxconfigfpga.c **** #include "cyu3os.h"
  10:../cyfxconfigfpga.c **** #include "cyu3dma.h"
  11:../cyfxconfigfpga.c **** #include "cyu3error.h"
  12:../cyfxconfigfpga.c **** #include "cyu3usb.h"
  13:../cyfxconfigfpga.c **** #include "cyu3gpio.h"
  14:../cyfxconfigfpga.c **** #include "cyu3spi.h"
  15:../cyfxconfigfpga.c **** #include "cyu3uart.h"
  16:../cyfxconfigfpga.c **** #include "cyfxslfifosync.h"
  17:../cyfxconfigfpga.c **** #include "cyu3gpif.h"
  18:../cyfxconfigfpga.c **** #include "cyu3pib.h"
  19:../cyfxconfigfpga.c **** #include "pib_regs.h"
  20:../cyfxconfigfpga.c **** #include "cyfxconfigfpga.h"
  21:../cyfxconfigfpga.c **** 
  22:../cyfxconfigfpga.c **** /* This file illustrates the configure FPGA in Slave Serial mode example */
  23:../cyfxconfigfpga.c **** 
  24:../cyfxconfigfpga.c **** 
  25:../cyfxconfigfpga.c **** CyU3PDmaChannel glChHandleUtoCPU;   /* DMA Channel handle for U2CPU transfer. */
  26:../cyfxconfigfpga.c **** 
  27:../cyfxconfigfpga.c **** CyBool_t glConfigDone = CyTrue;			/* Flag to indicate that FPGA configuration is done */
  28:../cyfxconfigfpga.c **** 
  29:../cyfxconfigfpga.c **** uint32_t filelen = 0;					/* length of Configuration file (.bin) */
  30:../cyfxconfigfpga.c **** 
  31:../cyfxconfigfpga.c **** CyU3PEvent glFxConfigFpgaAppEvent;    /* Configure FPGA event group. */
  32:../cyfxconfigfpga.c **** 
  33:../cyfxconfigfpga.c **** uint16_t uiPacketSize = 0;
  34:../cyfxconfigfpga.c **** 
  35:../cyfxconfigfpga.c **** 
  36:../cyfxconfigfpga.c **** 
  37:../cyfxconfigfpga.c **** 
  38:../cyfxconfigfpga.c **** /* This function writes configuration data to the xilinx FPGA */
  39:../cyfxconfigfpga.c **** CyU3PReturnStatus_t CyFxConfigFpga(uint32_t uiLen)
  40:../cyfxconfigfpga.c **** {
  49              		.loc 1 40 0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 40
  52              		@ frame_needed = 1, uses_anonymous_args = 0
  53 0000 00482DE9 		stmfd	sp!, {fp, lr}
  54              	.LCFI0:
  55              		.cfi_def_cfa_offset 8
  56              		.cfi_offset 11, -8
  57              		.cfi_offset 14, -4
  58 0004 04B08DE2 		add	fp, sp, #4
  59              	.LCFI1:
  60              		.cfi_def_cfa 11, 4
  61 0008 28D04DE2 		sub	sp, sp, #40
  62 000c 28000BE5 		str	r0, [fp, #-40]
  41:../cyfxconfigfpga.c ****       uint32_t uiIdx;
  42:../cyfxconfigfpga.c **** 
  43:../cyfxconfigfpga.c ****       CyU3PReturnStatus_t apiRetStatus;
  44:../cyfxconfigfpga.c ****       CyU3PDmaBuffer_t inBuf_p;
  45:../cyfxconfigfpga.c ****       CyBool_t xFpga_Done, xFpga_Init_B;
  46:../cyfxconfigfpga.c **** 
  47:../cyfxconfigfpga.c ****       CyU3PDebugPrint (6, "file length: %d\n", uiLen);
  63              		.loc 1 47 0
  64 0010 0600A0E3 		mov	r0, #6
  65 0014 E4119FE5 		ldr	r1, .L14
  66 0018 28201BE5 		ldr	r2, [fp, #-40]
  67 001c FEFFFFEB 		bl	CyU3PDebugPrint
  48:../cyfxconfigfpga.c ****       /* Pull PROG_B line to reset FPGA */
  49:../cyfxconfigfpga.c ****       apiRetStatus = CyU3PSpiSetSsnLine (CyFalse);
  68              		.loc 1 49 0
  69 0020 0000A0E3 		mov	r0, #0
  70 0024 FEFFFFEB 		bl	CyU3PSpiSetSsnLine
  71 0028 0C000BE5 		str	r0, [fp, #-12]
  50:../cyfxconfigfpga.c ****       CyU3PThreadSleep(5);
  72              		.loc 1 50 0
  73 002c 0500A0E3 		mov	r0, #5
  74 0030 FEFFFFEB 		bl	_tx_thread_sleep
  51:../cyfxconfigfpga.c **** 
  52:../cyfxconfigfpga.c ****       CyU3PGpioSimpleGetValue (FPGA_INIT_B, &xFpga_Init_B);
  75              		.loc 1 52 0
  76 0034 20304BE2 		sub	r3, fp, #32
  77 0038 1A00A0E3 		mov	r0, #26
  78 003c 0310A0E1 		mov	r1, r3
  79 0040 FEFFFFEB 		bl	CyU3PGpioSimpleGetValue
  53:../cyfxconfigfpga.c ****           	  if (xFpga_Init_B)
  80              		.loc 1 53 0
  81 0044 20301BE5 		ldr	r3, [fp, #-32]
  82 0048 000053E3 		cmp	r3, #0
  83 004c 0400000A 		beq	.L2
  54:../cyfxconfigfpga.c ****           	  {
  55:../cyfxconfigfpga.c ****           		glConfigDone = CyFalse;
  84              		.loc 1 55 0
  85 0050 AC319FE5 		ldr	r3, .L14+4
  86 0054 0020A0E3 		mov	r2, #0
  87 0058 002083E5 		str	r2, [r3]
  56:../cyfxconfigfpga.c ****           		return apiRetStatus;
  88              		.loc 1 56 0
  89 005c 0C301BE5 		ldr	r3, [fp, #-12]
  90 0060 630000EA 		b	.L13
  91              	.L2:
  57:../cyfxconfigfpga.c ****           	  }
  58:../cyfxconfigfpga.c ****       CyU3PThreadSleep(10);
  92              		.loc 1 58 0
  93 0064 0A00A0E3 		mov	r0, #10
  94 0068 FEFFFFEB 		bl	_tx_thread_sleep
  59:../cyfxconfigfpga.c ****       /* Release PROG_B line */
  60:../cyfxconfigfpga.c ****       apiRetStatus |= CyU3PSpiSetSsnLine (CyTrue);
  95              		.loc 1 60 0
  96 006c 0100A0E3 		mov	r0, #1
  97 0070 FEFFFFEB 		bl	CyU3PSpiSetSsnLine
  98 0074 0030A0E1 		mov	r3, r0
  99 0078 0C201BE5 		ldr	r2, [fp, #-12]
 100 007c 033082E1 		orr	r3, r2, r3
 101 0080 0C300BE5 		str	r3, [fp, #-12]
  61:../cyfxconfigfpga.c ****       CyU3PThreadSleep(10);   // Allow FPGA to startup
 102              		.loc 1 61 0
 103 0084 0A00A0E3 		mov	r0, #10
 104 0088 FEFFFFEB 		bl	_tx_thread_sleep
  62:../cyfxconfigfpga.c **** 
  63:../cyfxconfigfpga.c ****       /* Check if FPGA is now ready by testing the FPGA_Init_B signal */
  64:../cyfxconfigfpga.c ****     apiRetStatus |= CyU3PGpioSimpleGetValue (FPGA_INIT_B, &xFpga_Init_B);
 105              		.loc 1 64 0
 106 008c 20304BE2 		sub	r3, fp, #32
 107 0090 1A00A0E3 		mov	r0, #26
 108 0094 0310A0E1 		mov	r1, r3
 109 0098 FEFFFFEB 		bl	CyU3PGpioSimpleGetValue
 110 009c 0030A0E1 		mov	r3, r0
 111 00a0 0C201BE5 		ldr	r2, [fp, #-12]
 112 00a4 033082E1 		orr	r3, r2, r3
 113 00a8 0C300BE5 		str	r3, [fp, #-12]
  65:../cyfxconfigfpga.c ****     if( (xFpga_Init_B != CyTrue) || (apiRetStatus != CY_U3P_SUCCESS) ){
 114              		.loc 1 65 0
 115 00ac 20301BE5 		ldr	r3, [fp, #-32]
 116 00b0 010053E3 		cmp	r3, #1
 117 00b4 0200001A 		bne	.L4
 118              		.loc 1 65 0 is_stmt 0 discriminator 1
 119 00b8 0C301BE5 		ldr	r3, [fp, #-12]
 120 00bc 000053E3 		cmp	r3, #0
 121 00c0 0100000A 		beq	.L5
 122              	.L4:
  66:../cyfxconfigfpga.c **** 
  67:../cyfxconfigfpga.c ****           return apiRetStatus;
 123              		.loc 1 67 0 is_stmt 1
 124 00c4 0C301BE5 		ldr	r3, [fp, #-12]
 125 00c8 490000EA 		b	.L13
 126              	.L5:
  68:../cyfxconfigfpga.c ****     }
  69:../cyfxconfigfpga.c **** 
  70:../cyfxconfigfpga.c ****       /* Start shifting out configuration data */
  71:../cyfxconfigfpga.c ****     for(uiIdx = 0; (uiIdx < uiLen) && glIsApplnActive; uiIdx += uiPacketSize ){
 127              		.loc 1 71 0
 128 00cc 0030A0E3 		mov	r3, #0
 129 00d0 08300BE5 		str	r3, [fp, #-8]
 130 00d4 2B0000EA 		b	.L6
 131              	.L11:
  72:../cyfxconfigfpga.c **** 
  73:../cyfxconfigfpga.c ****       if(CyU3PDmaChannelGetBuffer (&glChHandleUtoCPU, &inBuf_p, 2000) != CY_U3P_SUCCESS){ // Wait 2
 132              		.loc 1 73 0
 133 00d8 18304BE2 		sub	r3, fp, #24
 134 00dc 24019FE5 		ldr	r0, .L14+8
 135 00e0 0310A0E1 		mov	r1, r3
 136 00e4 7D2EA0E3 		mov	r2, #2000
 137 00e8 FEFFFFEB 		bl	CyU3PDmaChannelGetBuffer
 138 00ec 0030A0E1 		mov	r3, r0
 139 00f0 000053E3 		cmp	r3, #0
 140 00f4 0500000A 		beq	.L7
  74:../cyfxconfigfpga.c ****     	  glConfigDone = CyFalse;
 141              		.loc 1 74 0
 142 00f8 04319FE5 		ldr	r3, .L14+4
 143 00fc 0020A0E3 		mov	r2, #0
 144 0100 002083E5 		str	r2, [r3]
  75:../cyfxconfigfpga.c **** 
  76:../cyfxconfigfpga.c ****     	  apiRetStatus = CY_U3P_ERROR_TIMEOUT;
 145              		.loc 1 76 0
 146 0104 4530A0E3 		mov	r3, #69
 147 0108 0C300BE5 		str	r3, [fp, #-12]
  77:../cyfxconfigfpga.c ****             break;
 148              		.loc 1 77 0
 149 010c 250000EA 		b	.L8
 150              	.L7:
  78:../cyfxconfigfpga.c ****       }
  79:../cyfxconfigfpga.c **** 
  80:../cyfxconfigfpga.c ****       apiRetStatus = CyU3PSpiTransmitWords(inBuf_p.buffer , uiPacketSize);
 151              		.loc 1 80 0
 152 0110 18201BE5 		ldr	r2, [fp, #-24]
 153 0114 F0309FE5 		ldr	r3, .L14+12
 154 0118 B030D3E1 		ldrh	r3, [r3]
 155 011c 0200A0E1 		mov	r0, r2
 156 0120 0310A0E1 		mov	r1, r3
 157 0124 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 158 0128 0C000BE5 		str	r0, [fp, #-12]
  81:../cyfxconfigfpga.c ****       if (apiRetStatus != CY_U3P_SUCCESS){
 159              		.loc 1 81 0
 160 012c 0C301BE5 		ldr	r3, [fp, #-12]
 161 0130 000053E3 		cmp	r3, #0
 162 0134 0300000A 		beq	.L9
  82:../cyfxconfigfpga.c **** 
  83:../cyfxconfigfpga.c ****     	  glConfigDone = CyFalse;
 163              		.loc 1 83 0
 164 0138 C4309FE5 		ldr	r3, .L14+4
 165 013c 0020A0E3 		mov	r2, #0
 166 0140 002083E5 		str	r2, [r3]
  84:../cyfxconfigfpga.c ****     	  break;
 167              		.loc 1 84 0
 168 0144 170000EA 		b	.L8
 169              	.L9:
  85:../cyfxconfigfpga.c ****       }
  86:../cyfxconfigfpga.c ****             if(CyU3PDmaChannelDiscardBuffer (&glChHandleUtoCPU) != CY_U3P_SUCCESS){ // Wait 2000 ms
 170              		.loc 1 86 0
 171 0148 B8009FE5 		ldr	r0, .L14+8
 172 014c FEFFFFEB 		bl	CyU3PDmaChannelDiscardBuffer
 173 0150 0030A0E1 		mov	r3, r0
 174 0154 000053E3 		cmp	r3, #0
 175 0158 0500000A 		beq	.L10
  87:../cyfxconfigfpga.c ****             	glConfigDone = CyFalse;
 176              		.loc 1 87 0
 177 015c A0309FE5 		ldr	r3, .L14+4
 178 0160 0020A0E3 		mov	r2, #0
 179 0164 002083E5 		str	r2, [r3]
  88:../cyfxconfigfpga.c **** 
  89:../cyfxconfigfpga.c ****             	apiRetStatus = CY_U3P_ERROR_TIMEOUT;
 180              		.loc 1 89 0
 181 0168 4530A0E3 		mov	r3, #69
 182 016c 0C300BE5 		str	r3, [fp, #-12]
  90:../cyfxconfigfpga.c ****             break;
 183              		.loc 1 90 0
 184 0170 0C0000EA 		b	.L8
 185              	.L10:
  71:../cyfxconfigfpga.c **** 
 186              		.loc 1 71 0
 187 0174 90309FE5 		ldr	r3, .L14+12
 188 0178 B030D3E1 		ldrh	r3, [r3]
 189 017c 08201BE5 		ldr	r2, [fp, #-8]
 190 0180 033082E0 		add	r3, r2, r3
 191 0184 08300BE5 		str	r3, [fp, #-8]
 192              	.L6:
  71:../cyfxconfigfpga.c **** 
 193              		.loc 1 71 0 is_stmt 0 discriminator 1
 194 0188 08201BE5 		ldr	r2, [fp, #-8]
 195 018c 28301BE5 		ldr	r3, [fp, #-40]
 196 0190 030052E1 		cmp	r2, r3
 197 0194 0300002A 		bcs	.L8
  71:../cyfxconfigfpga.c **** 
 198              		.loc 1 71 0 discriminator 2
 199 0198 70309FE5 		ldr	r3, .L14+16
 200 019c 003093E5 		ldr	r3, [r3]
 201 01a0 000053E3 		cmp	r3, #0
 202 01a4 CBFFFF1A 		bne	.L11
 203              	.L8:
  91:../cyfxconfigfpga.c ****             }
  92:../cyfxconfigfpga.c ****     }
  93:../cyfxconfigfpga.c **** 
  94:../cyfxconfigfpga.c ****     CyU3PThreadSleep(1);
 204              		.loc 1 94 0 is_stmt 1
 205 01a8 0100A0E3 		mov	r0, #1
 206 01ac FEFFFFEB 		bl	_tx_thread_sleep
  95:../cyfxconfigfpga.c **** 
  96:../cyfxconfigfpga.c ****     apiRetStatus |= CyU3PGpioSimpleGetValue (FPGA_DONE, &xFpga_Done);
 207              		.loc 1 96 0
 208 01b0 1C304BE2 		sub	r3, fp, #28
 209 01b4 1B00A0E3 		mov	r0, #27
 210 01b8 0310A0E1 		mov	r1, r3
 211 01bc FEFFFFEB 		bl	CyU3PGpioSimpleGetValue
 212 01c0 0030A0E1 		mov	r3, r0
 213 01c4 0C201BE5 		ldr	r2, [fp, #-12]
 214 01c8 033082E1 		orr	r3, r2, r3
 215 01cc 0C300BE5 		str	r3, [fp, #-12]
  97:../cyfxconfigfpga.c ****     if( (xFpga_Done != CyTrue) ){
 216              		.loc 1 97 0
 217 01d0 1C301BE5 		ldr	r3, [fp, #-28]
 218 01d4 010053E3 		cmp	r3, #1
 219 01d8 0400000A 		beq	.L12
  98:../cyfxconfigfpga.c ****     	glConfigDone = CyFalse;
 220              		.loc 1 98 0
 221 01dc 20309FE5 		ldr	r3, .L14+4
 222 01e0 0020A0E3 		mov	r2, #0
 223 01e4 002083E5 		str	r2, [r3]
  99:../cyfxconfigfpga.c **** 
 100:../cyfxconfigfpga.c ****       apiRetStatus = CY_U3P_ERROR_FAILURE;
 224              		.loc 1 100 0
 225 01e8 4A30A0E3 		mov	r3, #74
 226 01ec 0C300BE5 		str	r3, [fp, #-12]
 227              	.L12:
 101:../cyfxconfigfpga.c ****     }
 102:../cyfxconfigfpga.c **** 
 103:../cyfxconfigfpga.c **** 
 104:../cyfxconfigfpga.c **** 
 105:../cyfxconfigfpga.c ****     return apiRetStatus;
 228              		.loc 1 105 0
 229 01f0 0C301BE5 		ldr	r3, [fp, #-12]
 230              	.L13:
 106:../cyfxconfigfpga.c **** 
 107:../cyfxconfigfpga.c **** }
 231              		.loc 1 107 0
 232 01f4 0300A0E1 		mov	r0, r3
 233 01f8 04D04BE2 		sub	sp, fp, #4
 234              		@ sp needed
 235 01fc 0088BDE8 		ldmfd	sp!, {fp, pc}
 236              	.L15:
 237              		.align	2
 238              	.L14:
 239 0200 00000000 		.word	.LC0
 240 0204 00000000 		.word	glConfigDone
 241 0208 00000000 		.word	glChHandleUtoCPU
 242 020c 00000000 		.word	uiPacketSize
 243 0210 00000000 		.word	glIsApplnActive
 244              		.cfi_endproc
 245              	.LFE0:
 247              		.section	.rodata
 248 0011 000000   		.align	2
 249              	.LC1:
 250 0014 4572726F 		.ascii	"Error! Invalid USB speed.\012\000"
 250      72212049 
 250      6E76616C 
 250      69642055 
 250      53422073 
 251 002f 00       		.align	2
 252              	.LC2:
 253 0030 43795533 		.ascii	"CyU3PSetEpConfig failed, Error code = %d\012\000"
 253      50536574 
 253      4570436F 
 253      6E666967 
 253      20666169 
 254 005a 0000     		.align	2
 255              	.LC3:
 256 005c 43795533 		.ascii	"CyU3PDmaChannelCreate failed, Error code = %d\012\000"
 256      50446D61 
 256      4368616E 
 256      6E656C43 
 256      72656174 
 257 008b 00       		.align	2
 258              	.LC4:
 259 008c 43795533 		.ascii	"CyU3PDmaChannelSetXfer Failed, Error code = %d\012\000"
 259      50446D61 
 259      4368616E 
 259      6E656C53 
 259      65745866 
 260              		.text
 261              		.align	2
 262              		.global	CyFxConfigFpgaApplnStart
 264              	CyFxConfigFpgaApplnStart:
 265              	.LFB1:
 108:../cyfxconfigfpga.c **** 
 109:../cyfxconfigfpga.c **** void
 110:../cyfxconfigfpga.c **** CyFxConfigFpgaApplnStart (
 111:../cyfxconfigfpga.c ****         void)
 112:../cyfxconfigfpga.c **** {
 266              		.loc 1 112 0
 267              		.cfi_startproc
 268              		@ args = 0, pretend = 0, frame = 56
 269              		@ frame_needed = 1, uses_anonymous_args = 0
 270 0214 00482DE9 		stmfd	sp!, {fp, lr}
 271              	.LCFI2:
 272              		.cfi_def_cfa_offset 8
 273              		.cfi_offset 11, -8
 274              		.cfi_offset 14, -4
 275 0218 04B08DE2 		add	fp, sp, #4
 276              	.LCFI3:
 277              		.cfi_def_cfa 11, 4
 278 021c 38D04DE2 		sub	sp, sp, #56
 113:../cyfxconfigfpga.c ****     uint16_t size = 0;
 279              		.loc 1 113 0
 280 0220 0030A0E3 		mov	r3, #0
 281 0224 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 114:../cyfxconfigfpga.c ****     CyU3PEpConfig_t epCfg;
 115:../cyfxconfigfpga.c ****     CyU3PDmaChannelConfig_t dmaCfg;
 116:../cyfxconfigfpga.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 282              		.loc 1 116 0
 283 0228 0030A0E3 		mov	r3, #0
 284 022c 0C300BE5 		str	r3, [fp, #-12]
 117:../cyfxconfigfpga.c ****     CyU3PUSBSpeed_t usbSpeed = CyU3PUsbGetSpeed();
 285              		.loc 1 117 0
 286 0230 FEFFFFEB 		bl	CyU3PUsbGetSpeed
 287 0234 0030A0E1 		mov	r3, r0
 288 0238 0D304BE5 		strb	r3, [fp, #-13]
 118:../cyfxconfigfpga.c **** 
 119:../cyfxconfigfpga.c ****     /* First identify the usb speed. Once that is identified,
 120:../cyfxconfigfpga.c ****      * create a DMA channel and start the transfer on this. */
 121:../cyfxconfigfpga.c **** 
 122:../cyfxconfigfpga.c ****     /* Based on the Bus Speed configure the endpoint packet size */
 123:../cyfxconfigfpga.c ****     switch (usbSpeed)
 289              		.loc 1 123 0
 290 023c 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 291 0240 020053E3 		cmp	r3, #2
 292 0244 0600000A 		beq	.L18
 293 0248 030053E3 		cmp	r3, #3
 294 024c 0700000A 		beq	.L19
 295 0250 010053E3 		cmp	r3, #1
 296 0254 0800001A 		bne	.L25
 124:../cyfxconfigfpga.c ****     {
 125:../cyfxconfigfpga.c ****         case CY_U3P_FULL_SPEED:
 126:../cyfxconfigfpga.c ****             size = 64;
 297              		.loc 1 126 0
 298 0258 4030A0E3 		mov	r3, #64
 299 025c B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 127:../cyfxconfigfpga.c ****             break;
 300              		.loc 1 127 0
 301 0260 0B0000EA 		b	.L21
 302              	.L18:
 128:../cyfxconfigfpga.c **** 
 129:../cyfxconfigfpga.c ****         case CY_U3P_HIGH_SPEED:
 130:../cyfxconfigfpga.c ****             size = 512;
 303              		.loc 1 130 0
 304 0264 023CA0E3 		mov	r3, #512
 305 0268 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 131:../cyfxconfigfpga.c ****             break;
 306              		.loc 1 131 0
 307 026c 080000EA 		b	.L21
 308              	.L19:
 132:../cyfxconfigfpga.c **** 
 133:../cyfxconfigfpga.c ****         case  CY_U3P_SUPER_SPEED:
 134:../cyfxconfigfpga.c ****             size = 1024;
 309              		.loc 1 134 0
 310 0270 013BA0E3 		mov	r3, #1024
 311 0274 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 135:../cyfxconfigfpga.c ****             break;
 312              		.loc 1 135 0
 313 0278 050000EA 		b	.L21
 314              	.L25:
 136:../cyfxconfigfpga.c **** 
 137:../cyfxconfigfpga.c ****         default:
 138:../cyfxconfigfpga.c ****             CyU3PDebugPrint (4, "Error! Invalid USB speed.\n");
 315              		.loc 1 138 0
 316 027c 0400A0E3 		mov	r0, #4
 317 0280 70119FE5 		ldr	r1, .L26
 318 0284 FEFFFFEB 		bl	CyU3PDebugPrint
 139:../cyfxconfigfpga.c ****             CyFxAppErrorHandler (CY_U3P_ERROR_FAILURE);
 319              		.loc 1 139 0
 320 0288 4A00A0E3 		mov	r0, #74
 321 028c FEFFFFEB 		bl	CyFxAppErrorHandler
 140:../cyfxconfigfpga.c ****             break;
 322              		.loc 1 140 0
 323 0290 0000A0E1 		mov	r0, r0	@ nop
 324              	.L21:
 141:../cyfxconfigfpga.c ****     }
 142:../cyfxconfigfpga.c **** 
 143:../cyfxconfigfpga.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 325              		.loc 1 143 0
 326 0294 1C304BE2 		sub	r3, fp, #28
 327 0298 0300A0E1 		mov	r0, r3
 328 029c 0010A0E3 		mov	r1, #0
 329 02a0 0C20A0E3 		mov	r2, #12
 330 02a4 FEFFFFEB 		bl	CyU3PMemSet
 144:../cyfxconfigfpga.c ****     epCfg.enable = CyTrue;
 331              		.loc 1 144 0
 332 02a8 0130A0E3 		mov	r3, #1
 333 02ac 1C300BE5 		str	r3, [fp, #-28]
 145:../cyfxconfigfpga.c ****     epCfg.epType = CY_U3P_USB_EP_BULK;
 334              		.loc 1 145 0
 335 02b0 0230A0E3 		mov	r3, #2
 336 02b4 18304BE5 		strb	r3, [fp, #-24]
 146:../cyfxconfigfpga.c ****     epCfg.burstLen = 1;
 337              		.loc 1 146 0
 338 02b8 0130A0E3 		mov	r3, #1
 339 02bc 12304BE5 		strb	r3, [fp, #-18]
 147:../cyfxconfigfpga.c ****     epCfg.streams = 0;
 340              		.loc 1 147 0
 341 02c0 0030A0E3 		mov	r3, #0
 342 02c4 B6314BE1 		strh	r3, [fp, #-22]	@ movhi
 148:../cyfxconfigfpga.c ****     epCfg.pcktSize = size;
 343              		.loc 1 148 0
 344 02c8 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 345 02cc B4314BE1 		strh	r3, [fp, #-20]	@ movhi
 149:../cyfxconfigfpga.c **** 
 150:../cyfxconfigfpga.c ****     uiPacketSize = size;
 346              		.loc 1 150 0
 347 02d0 24319FE5 		ldr	r3, .L26+4
 348 02d4 B6205BE1 		ldrh	r2, [fp, #-6]	@ movhi
 349 02d8 B020C3E1 		strh	r2, [r3]	@ movhi
 151:../cyfxconfigfpga.c **** 
 152:../cyfxconfigfpga.c ****     /* Producer endpoint configuration */
 153:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 350              		.loc 1 153 0
 351 02dc 1C304BE2 		sub	r3, fp, #28
 352 02e0 0100A0E3 		mov	r0, #1
 353 02e4 0310A0E1 		mov	r1, r3
 354 02e8 FEFFFFEB 		bl	CyU3PSetEpConfig
 355 02ec 0C000BE5 		str	r0, [fp, #-12]
 154:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 356              		.loc 1 154 0
 357 02f0 0C301BE5 		ldr	r3, [fp, #-12]
 358 02f4 000053E3 		cmp	r3, #0
 359 02f8 0500000A 		beq	.L22
 155:../cyfxconfigfpga.c ****     {
 156:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 360              		.loc 1 156 0
 361 02fc 0400A0E3 		mov	r0, #4
 362 0300 F8109FE5 		ldr	r1, .L26+8
 363 0304 0C201BE5 		ldr	r2, [fp, #-12]
 364 0308 FEFFFFEB 		bl	CyU3PDebugPrint
 157:../cyfxconfigfpga.c ****         CyFxAppErrorHandler (apiRetStatus);
 365              		.loc 1 157 0
 366 030c 0C001BE5 		ldr	r0, [fp, #-12]
 367 0310 FEFFFFEB 		bl	CyFxAppErrorHandler
 368              	.L22:
 158:../cyfxconfigfpga.c ****     }
 159:../cyfxconfigfpga.c **** 
 160:../cyfxconfigfpga.c **** 
 161:../cyfxconfigfpga.c **** 
 162:../cyfxconfigfpga.c ****     /* Create a DMA MANUAL channel for U2CPU transfer.
 163:../cyfxconfigfpga.c ****      * DMA size is set based on the USB speed. */
 164:../cyfxconfigfpga.c ****     dmaCfg.size  = size;
 369              		.loc 1 164 0
 370 0314 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 371 0318 B8334BE1 		strh	r3, [fp, #-56]	@ movhi
 165:../cyfxconfigfpga.c ****     dmaCfg.count = CY_FX_SLFIFO_DMA_BUF_COUNT;
 372              		.loc 1 165 0
 373 031c 1030A0E3 		mov	r3, #16
 374 0320 B6334BE1 		strh	r3, [fp, #-54]	@ movhi
 166:../cyfxconfigfpga.c ****     dmaCfg.prodSckId = CY_FX_PRODUCER_USB_SOCKET;
 375              		.loc 1 166 0
 376 0324 D8309FE5 		ldr	r3, .L26+12
 377 0328 B4334BE1 		strh	r3, [fp, #-52]	@ movhi
 167:../cyfxconfigfpga.c ****     dmaCfg.consSckId = CY_U3P_CPU_SOCKET_CONS;
 378              		.loc 1 167 0
 379 032c 3F3CA0E3 		mov	r3, #16128
 380 0330 B2334BE1 		strh	r3, [fp, #-50]	@ movhi
 168:../cyfxconfigfpga.c ****     dmaCfg.dmaMode = CY_U3P_DMA_MODE_BYTE;
 381              		.loc 1 168 0
 382 0334 0030A0E3 		mov	r3, #0
 383 0338 28304BE5 		strb	r3, [fp, #-40]
 169:../cyfxconfigfpga.c ****     /* Enabling the callback for produce event. */
 170:../cyfxconfigfpga.c ****     dmaCfg.notification = 0;
 384              		.loc 1 170 0
 385 033c 0030A0E3 		mov	r3, #0
 386 0340 24300BE5 		str	r3, [fp, #-36]
 171:../cyfxconfigfpga.c ****     dmaCfg.cb = NULL;
 387              		.loc 1 171 0
 388 0344 0030A0E3 		mov	r3, #0
 389 0348 20300BE5 		str	r3, [fp, #-32]
 172:../cyfxconfigfpga.c ****     dmaCfg.prodHeader = 0;
 390              		.loc 1 172 0
 391 034c 0030A0E3 		mov	r3, #0
 392 0350 BE324BE1 		strh	r3, [fp, #-46]	@ movhi
 173:../cyfxconfigfpga.c ****     dmaCfg.prodFooter = 0;
 393              		.loc 1 173 0
 394 0354 0030A0E3 		mov	r3, #0
 395 0358 BC324BE1 		strh	r3, [fp, #-44]	@ movhi
 174:../cyfxconfigfpga.c ****     dmaCfg.consHeader = 0;
 396              		.loc 1 174 0
 397 035c 0030A0E3 		mov	r3, #0
 398 0360 BA324BE1 		strh	r3, [fp, #-42]	@ movhi
 175:../cyfxconfigfpga.c ****     dmaCfg.prodAvailCount = 0;
 399              		.loc 1 175 0
 400 0364 0030A0E3 		mov	r3, #0
 401 0368 B0334BE1 		strh	r3, [fp, #-48]	@ movhi
 176:../cyfxconfigfpga.c **** 
 177:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PDmaChannelCreate (&glChHandleUtoCPU,
 402              		.loc 1 177 0
 403 036c 38304BE2 		sub	r3, fp, #56
 404 0370 90009FE5 		ldr	r0, .L26+16
 405 0374 0310A0E3 		mov	r1, #3
 406 0378 0320A0E1 		mov	r2, r3
 407 037c FEFFFFEB 		bl	CyU3PDmaChannelCreate
 408 0380 0C000BE5 		str	r0, [fp, #-12]
 178:../cyfxconfigfpga.c ****     		CY_U3P_DMA_TYPE_MANUAL_IN, &dmaCfg);
 179:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 409              		.loc 1 179 0
 410 0384 0C301BE5 		ldr	r3, [fp, #-12]
 411 0388 000053E3 		cmp	r3, #0
 412 038c 0500000A 		beq	.L23
 180:../cyfxconfigfpga.c ****     {
 181:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "CyU3PDmaChannelCreate failed, Error code = %d\n", apiRetStatus);
 413              		.loc 1 181 0
 414 0390 0400A0E3 		mov	r0, #4
 415 0394 70109FE5 		ldr	r1, .L26+20
 416 0398 0C201BE5 		ldr	r2, [fp, #-12]
 417 039c FEFFFFEB 		bl	CyU3PDebugPrint
 182:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 418              		.loc 1 182 0
 419 03a0 0C001BE5 		ldr	r0, [fp, #-12]
 420 03a4 FEFFFFEB 		bl	CyFxAppErrorHandler
 421              	.L23:
 183:../cyfxconfigfpga.c ****     }
 184:../cyfxconfigfpga.c **** 
 185:../cyfxconfigfpga.c **** 
 186:../cyfxconfigfpga.c **** 
 187:../cyfxconfigfpga.c ****     /* Flush the Endpoint memory */
 188:../cyfxconfigfpga.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 422              		.loc 1 188 0
 423 03a8 0100A0E3 		mov	r0, #1
 424 03ac FEFFFFEB 		bl	CyU3PUsbFlushEp
 189:../cyfxconfigfpga.c **** 
 190:../cyfxconfigfpga.c **** 
 191:../cyfxconfigfpga.c ****     /* Set DMA channel transfer size. */
 192:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PDmaChannelSetXfer (&glChHandleUtoCPU, CY_FX_SLFIFO_DMA_TX_SIZE);
 425              		.loc 1 192 0
 426 03b0 50009FE5 		ldr	r0, .L26+16
 427 03b4 0010A0E3 		mov	r1, #0
 428 03b8 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 429 03bc 0C000BE5 		str	r0, [fp, #-12]
 193:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 430              		.loc 1 193 0
 431 03c0 0C301BE5 		ldr	r3, [fp, #-12]
 432 03c4 000053E3 		cmp	r3, #0
 433 03c8 0500000A 		beq	.L24
 194:../cyfxconfigfpga.c ****     {
 195:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "CyU3PDmaChannelSetXfer Failed, Error code = %d\n", apiRetStatus);
 434              		.loc 1 195 0
 435 03cc 0400A0E3 		mov	r0, #4
 436 03d0 38109FE5 		ldr	r1, .L26+24
 437 03d4 0C201BE5 		ldr	r2, [fp, #-12]
 438 03d8 FEFFFFEB 		bl	CyU3PDebugPrint
 196:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 439              		.loc 1 196 0
 440 03dc 0C001BE5 		ldr	r0, [fp, #-12]
 441 03e0 FEFFFFEB 		bl	CyFxAppErrorHandler
 442              	.L24:
 197:../cyfxconfigfpga.c ****     }
 198:../cyfxconfigfpga.c **** 
 199:../cyfxconfigfpga.c **** 
 200:../cyfxconfigfpga.c ****     /* Update the status flag. */
 201:../cyfxconfigfpga.c ****     glIsApplnActive = CyTrue;
 443              		.loc 1 201 0
 444 03e4 28309FE5 		ldr	r3, .L26+28
 445 03e8 0120A0E3 		mov	r2, #1
 446 03ec 002083E5 		str	r2, [r3]
 202:../cyfxconfigfpga.c **** 
 203:../cyfxconfigfpga.c **** 
 204:../cyfxconfigfpga.c **** }
 447              		.loc 1 204 0
 448 03f0 04D04BE2 		sub	sp, fp, #4
 449              		@ sp needed
 450 03f4 0088BDE8 		ldmfd	sp!, {fp, pc}
 451              	.L27:
 452              		.align	2
 453              	.L26:
 454 03f8 14000000 		.word	.LC1
 455 03fc 00000000 		.word	uiPacketSize
 456 0400 30000000 		.word	.LC2
 457 0404 01040000 		.word	1025
 458 0408 00000000 		.word	glChHandleUtoCPU
 459 040c 5C000000 		.word	.LC3
 460 0410 8C000000 		.word	.LC4
 461 0414 00000000 		.word	glIsApplnActive
 462              		.cfi_endproc
 463              	.LFE1:
 465              		.align	2
 466              		.global	CyFxConfigFpgaApplnStop
 468              	CyFxConfigFpgaApplnStop:
 469              	.LFB2:
 205:../cyfxconfigfpga.c **** 
 206:../cyfxconfigfpga.c **** 
 207:../cyfxconfigfpga.c **** void
 208:../cyfxconfigfpga.c **** CyFxConfigFpgaApplnStop (
 209:../cyfxconfigfpga.c ****         void)
 210:../cyfxconfigfpga.c **** {
 470              		.loc 1 210 0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 1, uses_anonymous_args = 0
 474 0418 00482DE9 		stmfd	sp!, {fp, lr}
 475              	.LCFI4:
 476              		.cfi_def_cfa_offset 8
 477              		.cfi_offset 11, -8
 478              		.cfi_offset 14, -4
 479 041c 04B08DE2 		add	fp, sp, #4
 480              	.LCFI5:
 481              		.cfi_def_cfa 11, 4
 211:../cyfxconfigfpga.c **** //	CyU3PEpConfig_t epCfg;
 212:../cyfxconfigfpga.c **** //	CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 213:../cyfxconfigfpga.c **** 
 214:../cyfxconfigfpga.c **** 
 215:../cyfxconfigfpga.c **** 	CyU3PGpioDeInit();
 482              		.loc 1 215 0
 483 0420 FEFFFFEB 		bl	CyU3PGpioDeInit
 216:../cyfxconfigfpga.c **** 	CyU3PSpiDeInit();
 484              		.loc 1 216 0
 485 0424 FEFFFFEB 		bl	CyU3PSpiDeInit
 217:../cyfxconfigfpga.c **** 
 218:../cyfxconfigfpga.c ****     /* Update the flag. */
 219:../cyfxconfigfpga.c ****     glIsApplnActive = CyFalse;
 486              		.loc 1 219 0
 487 0428 2C309FE5 		ldr	r3, .L29
 488 042c 0020A0E3 		mov	r2, #0
 489 0430 002083E5 		str	r2, [r3]
 220:../cyfxconfigfpga.c **** 
 221:../cyfxconfigfpga.c ****     CyU3PUsbGetEpSeqNum(CY_FX_EP_PRODUCER, seqnum_p);
 490              		.loc 1 221 0
 491 0434 24309FE5 		ldr	r3, .L29+4
 492 0438 003093E5 		ldr	r3, [r3]
 493 043c 0100A0E3 		mov	r0, #1
 494 0440 0310A0E1 		mov	r1, r3
 495 0444 FEFFFFEB 		bl	CyU3PUsbGetEpSeqNum
 222:../cyfxconfigfpga.c **** 
 223:../cyfxconfigfpga.c ****     /* Flush the endpoint memory */
 224:../cyfxconfigfpga.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 496              		.loc 1 224 0
 497 0448 0100A0E3 		mov	r0, #1
 498 044c FEFFFFEB 		bl	CyU3PUsbFlushEp
 225:../cyfxconfigfpga.c **** 
 226:../cyfxconfigfpga.c **** 
 227:../cyfxconfigfpga.c ****     /* Destroy the channel */
 228:../cyfxconfigfpga.c ****     CyU3PDmaChannelDestroy (&glChHandleUtoCPU);
 499              		.loc 1 228 0
 500 0450 0C009FE5 		ldr	r0, .L29+8
 501 0454 FEFFFFEB 		bl	CyU3PDmaChannelDestroy
 229:../cyfxconfigfpga.c **** #if 0
 230:../cyfxconfigfpga.c ****     /* Disable endpoints. */
 231:../cyfxconfigfpga.c **** 	CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 232:../cyfxconfigfpga.c **** 	epCfg.enable = CyFalse;
 233:../cyfxconfigfpga.c **** 
 234:../cyfxconfigfpga.c ****         /* Producer endpoint configuration. */
 235:../cyfxconfigfpga.c **** 	apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 236:../cyfxconfigfpga.c **** 	if (apiRetStatus != CY_U3P_SUCCESS)
 237:../cyfxconfigfpga.c **** 	{
 238:../cyfxconfigfpga.c **** 		CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 239:../cyfxconfigfpga.c **** 		CyFxAppErrorHandler (apiRetStatus);
 240:../cyfxconfigfpga.c **** 	}
 241:../cyfxconfigfpga.c **** #endif
 242:../cyfxconfigfpga.c **** 
 243:../cyfxconfigfpga.c **** }
 502              		.loc 1 243 0
 503 0458 0088BDE8 		ldmfd	sp!, {fp, pc}
 504              	.L30:
 505              		.align	2
 506              	.L29:
 507 045c 00000000 		.word	glIsApplnActive
 508 0460 00000000 		.word	seqnum_p
 509 0464 00000000 		.word	glChHandleUtoCPU
 510              		.cfi_endproc
 511              	.LFE2:
 513              		.section	.rodata
 514              		.align	2
 515              	.LC5:
 516 00bc 6576656E 		.ascii	"event create failed, Error Code = %d\012\000"
 516      74206372 
 516      65617465 
 516      20666169 
 516      6C65642C 
 517 00e2 0000     		.align	2
 518              	.LC6:
 519 00e4 53504920 		.ascii	"SPI init failed, Error Code = %d\012\000"
 519      696E6974 
 519      20666169 
 519      6C65642C 
 519      20457272 
 520 0106 0000     		.align	2
 521              	.LC7:
 522 0108 53504920 		.ascii	"SPI config failed, Error Code = %d\012\000"
 522      636F6E66 
 522      69672066 
 522      61696C65 
 522      642C2045 
 523              		.align	2
 524              	.LC8:
 525 012c 4750494F 		.ascii	"GPIO Init failed, Error Code = %d\012\000"
 525      20496E69 
 525      74206661 
 525      696C6564 
 525      2C204572 
 526 014f 00       		.align	2
 527              	.LC9:
 528 0150 43795533 		.ascii	"CyU3PGpioSetSimpleConfig failed, error code = %d\012"
 528      50477069 
 528      6F536574 
 528      53696D70 
 528      6C65436F 
 529 0181 00       		.ascii	"\000"
 530 0182 0000     		.align	2
 531              	.LC10:
 532 0184 43795533 		.ascii	"CyU3PUsbStart failed to Start, Error code = %d\012\000"
 532      50557362 
 532      53746172 
 532      74206661 
 532      696C6564 
 533              		.align	2
 534              	.LC11:
 535 01b4 55534220 		.ascii	"USB set device descriptor failed, Error code = %d\012"
 535      73657420 
 535      64657669 
 535      63652064 
 535      65736372 
 536 01e6 00       		.ascii	"\000"
 537 01e7 00       		.align	2
 538              	.LC12:
 539 01e8 55534220 		.ascii	"USB set configuration descriptor failed, Error code"
 539      73657420 
 539      636F6E66 
 539      69677572 
 539      6174696F 
 540 021b 203D2025 		.ascii	" = %d\012\000"
 540      640A00
 541 0222 0000     		.align	2
 542              	.LC13:
 543 0224 55534220 		.ascii	"USB set device qualifier descriptor failed, Error c"
 543      73657420 
 543      64657669 
 543      63652071 
 543      75616C69 
 544 0257 6F646520 		.ascii	"ode = %d\012\000"
 544      3D202564 
 544      0A00
 545 0261 000000   		.align	2
 546              	.LC14:
 547 0264 55534220 		.ascii	"USB Set Other Speed Descriptor failed, Error Code ="
 547      53657420 
 547      4F746865 
 547      72205370 
 547      65656420 
 548 0297 2025640A 		.ascii	" %d\012\000"
 548      00
 549              		.align	2
 550              	.LC15:
 551 029c 55534220 		.ascii	"USB Set Configuration Descriptor failed, Error Code"
 551      53657420 
 551      436F6E66 
 551      69677572 
 551      6174696F 
 552 02cf 203D2025 		.ascii	" = %d\012\000"
 552      640A00
 553 02d6 0000     		.align	2
 554              	.LC16:
 555 02d8 55534220 		.ascii	"USB set string descriptor failed, Error code = %d\012"
 555      73657420 
 555      73747269 
 555      6E672064 
 555      65736372 
 556 030a 00       		.ascii	"\000"
 557 030b 00       		.align	2
 558              	.LC17:
 559 030c 55534220 		.ascii	"USB Connect failed, Error code = %d\012\000"
 559      436F6E6E 
 559      65637420 
 559      6661696C 
 559      65642C20 
 560 0331 000000   		.text
 561              		.align	2
 562              		.global	CyFxConfigFpgaApplnInit
 564              	CyFxConfigFpgaApplnInit:
 565              	.LFB3:
 244:../cyfxconfigfpga.c **** 
 245:../cyfxconfigfpga.c **** 
 246:../cyfxconfigfpga.c **** void
 247:../cyfxconfigfpga.c **** CyFxConfigFpgaApplnInit (void)
 248:../cyfxconfigfpga.c **** {
 566              		.loc 1 248 0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 64
 569              		@ frame_needed = 1, uses_anonymous_args = 0
 570 0468 00482DE9 		stmfd	sp!, {fp, lr}
 571              	.LCFI6:
 572              		.cfi_def_cfa_offset 8
 573              		.cfi_offset 11, -8
 574              		.cfi_offset 14, -4
 575 046c 04B08DE2 		add	fp, sp, #4
 576              	.LCFI7:
 577              		.cfi_def_cfa 11, 4
 578 0470 40D04DE2 		sub	sp, sp, #64
 249:../cyfxconfigfpga.c **** 
 250:../cyfxconfigfpga.c ****     CyU3PGpioClock_t gpioClock;
 251:../cyfxconfigfpga.c ****     CyU3PGpioSimpleConfig_t gpioConfig;
 252:../cyfxconfigfpga.c ****     CyU3PSpiConfig_t spiConfig;
 253:../cyfxconfigfpga.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 579              		.loc 1 253 0
 580 0474 0030A0E3 		mov	r3, #0
 581 0478 08300BE5 		str	r3, [fp, #-8]
 254:../cyfxconfigfpga.c **** 
 255:../cyfxconfigfpga.c **** 
 256:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PEventCreate(&glFxConfigFpgaAppEvent);
 582              		.loc 1 256 0
 583 047c 84049FE5 		ldr	r0, .L50
 584 0480 0010A0E3 		mov	r1, #0
 585 0484 2820A0E3 		mov	r2, #40
 586 0488 FEFFFFEB 		bl	_txe_event_flags_create
 587 048c 08000BE5 		str	r0, [fp, #-8]
 257:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 588              		.loc 1 257 0
 589 0490 08301BE5 		ldr	r3, [fp, #-8]
 590 0494 000053E3 		cmp	r3, #0
 591 0498 0300000A 		beq	.L32
 258:../cyfxconfigfpga.c **** 		{
 259:../cyfxconfigfpga.c **** 			CyU3PDebugPrint (4, "event create failed, Error Code = %d\n",apiRetStatus);
 592              		.loc 1 259 0
 593 049c 0400A0E3 		mov	r0, #4
 594 04a0 64149FE5 		ldr	r1, .L50+4
 595 04a4 08201BE5 		ldr	r2, [fp, #-8]
 596 04a8 FEFFFFEB 		bl	CyU3PDebugPrint
 597              	.L32:
 260:../cyfxconfigfpga.c **** 		}
 261:../cyfxconfigfpga.c **** 
 262:../cyfxconfigfpga.c ****         /* Start the SPI module and configure the master. */
 263:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PSpiInit();
 598              		.loc 1 263 0
 599 04ac FEFFFFEB 		bl	CyU3PSpiInit
 600 04b0 08000BE5 		str	r0, [fp, #-8]
 264:../cyfxconfigfpga.c ****         if (apiRetStatus != CY_U3P_SUCCESS)
 601              		.loc 1 264 0
 602 04b4 08301BE5 		ldr	r3, [fp, #-8]
 603 04b8 000053E3 		cmp	r3, #0
 604 04bc 0300000A 		beq	.L33
 265:../cyfxconfigfpga.c ****         {
 266:../cyfxconfigfpga.c ****         	CyU3PDebugPrint (4, "SPI init failed, Error Code = %d\n",apiRetStatus);
 605              		.loc 1 266 0
 606 04c0 0400A0E3 		mov	r0, #4
 607 04c4 44149FE5 		ldr	r1, .L50+8
 608 04c8 08201BE5 		ldr	r2, [fp, #-8]
 609 04cc FEFFFFEB 		bl	CyU3PDebugPrint
 610              	.L33:
 267:../cyfxconfigfpga.c ****         }
 268:../cyfxconfigfpga.c **** 
 269:../cyfxconfigfpga.c ****         /* Start the SPI master block. Run the SPI clock at 25MHz
 270:../cyfxconfigfpga.c ****          * and configure the word length to 8 bits. Also configure
 271:../cyfxconfigfpga.c ****          * the slave select using FW. */
 272:../cyfxconfigfpga.c ****         CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 611              		.loc 1 272 0
 612 04d0 44304BE2 		sub	r3, fp, #68
 613 04d4 0300A0E1 		mov	r0, r3
 614 04d8 0010A0E3 		mov	r1, #0
 615 04dc 1C20A0E3 		mov	r2, #28
 616 04e0 FEFFFFEB 		bl	CyU3PMemSet
 273:../cyfxconfigfpga.c ****         spiConfig.isLsbFirst = CyFalse;
 617              		.loc 1 273 0
 618 04e4 0030A0E3 		mov	r3, #0
 619 04e8 44300BE5 		str	r3, [fp, #-68]
 274:../cyfxconfigfpga.c ****         spiConfig.cpol       = CyTrue;
 620              		.loc 1 274 0
 621 04ec 0130A0E3 		mov	r3, #1
 622 04f0 40300BE5 		str	r3, [fp, #-64]
 275:../cyfxconfigfpga.c ****         spiConfig.ssnPol     = CyFalse;
 623              		.loc 1 275 0
 624 04f4 0030A0E3 		mov	r3, #0
 625 04f8 38300BE5 		str	r3, [fp, #-56]
 276:../cyfxconfigfpga.c ****         spiConfig.cpha       = CyTrue;
 626              		.loc 1 276 0
 627 04fc 0130A0E3 		mov	r3, #1
 628 0500 3C300BE5 		str	r3, [fp, #-60]
 277:../cyfxconfigfpga.c ****         spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 629              		.loc 1 277 0
 630 0504 0130A0E3 		mov	r3, #1
 631 0508 33304BE5 		strb	r3, [fp, #-51]
 278:../cyfxconfigfpga.c ****         spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 632              		.loc 1 278 0
 633 050c 0130A0E3 		mov	r3, #1
 634 0510 32304BE5 		strb	r3, [fp, #-50]
 279:../cyfxconfigfpga.c ****         spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_FW;
 635              		.loc 1 279 0
 636 0514 0030A0E3 		mov	r3, #0
 637 0518 34304BE5 		strb	r3, [fp, #-52]
 280:../cyfxconfigfpga.c ****         spiConfig.clock      = 25000000;
 638              		.loc 1 280 0
 639 051c F0339FE5 		ldr	r3, .L50+12
 640 0520 30300BE5 		str	r3, [fp, #-48]
 281:../cyfxconfigfpga.c ****         spiConfig.wordLen    = 8;
 641              		.loc 1 281 0
 642 0524 0830A0E3 		mov	r3, #8
 643 0528 2C304BE5 		strb	r3, [fp, #-44]
 282:../cyfxconfigfpga.c **** 
 283:../cyfxconfigfpga.c ****         apiRetStatus = CyU3PSpiSetConfig (&spiConfig, NULL);
 644              		.loc 1 283 0
 645 052c 44304BE2 		sub	r3, fp, #68
 646 0530 0300A0E1 		mov	r0, r3
 647 0534 0010A0E3 		mov	r1, #0
 648 0538 FEFFFFEB 		bl	CyU3PSpiSetConfig
 649 053c 08000BE5 		str	r0, [fp, #-8]
 284:../cyfxconfigfpga.c ****         if (apiRetStatus != CY_U3P_SUCCESS)
 650              		.loc 1 284 0
 651 0540 08301BE5 		ldr	r3, [fp, #-8]
 652 0544 000053E3 		cmp	r3, #0
 653 0548 0300000A 		beq	.L34
 285:../cyfxconfigfpga.c ****         {
 286:../cyfxconfigfpga.c ****         	CyU3PDebugPrint (4, "SPI config failed, Error Code = %d\n",apiRetStatus);
 654              		.loc 1 286 0
 655 054c 0400A0E3 		mov	r0, #4
 656 0550 C0139FE5 		ldr	r1, .L50+16
 657 0554 08201BE5 		ldr	r2, [fp, #-8]
 658 0558 FEFFFFEB 		bl	CyU3PDebugPrint
 659              	.L34:
 287:../cyfxconfigfpga.c ****         }
 288:../cyfxconfigfpga.c **** 
 289:../cyfxconfigfpga.c ****     /******************/
 290:../cyfxconfigfpga.c ****     /* Configure GPIO */
 291:../cyfxconfigfpga.c ****     /******************/
 292:../cyfxconfigfpga.c **** 
 293:../cyfxconfigfpga.c ****     /* Init the GPIO module */
 294:../cyfxconfigfpga.c ****         gpioClock.fastClkDiv = 2;
 660              		.loc 1 294 0
 661 055c 0230A0E3 		mov	r3, #2
 662 0560 14304BE5 		strb	r3, [fp, #-20]
 295:../cyfxconfigfpga.c ****         gpioClock.slowClkDiv = 0;
 663              		.loc 1 295 0
 664 0564 0030A0E3 		mov	r3, #0
 665 0568 13304BE5 		strb	r3, [fp, #-19]
 296:../cyfxconfigfpga.c ****         gpioClock.simpleDiv = CY_U3P_GPIO_SIMPLE_DIV_BY_2;
 666              		.loc 1 296 0
 667 056c 0030A0E3 		mov	r3, #0
 668 0570 0C304BE5 		strb	r3, [fp, #-12]
 297:../cyfxconfigfpga.c ****         gpioClock.clkSrc = CY_U3P_SYS_CLK;
 669              		.loc 1 297 0
 670 0574 0330A0E3 		mov	r3, #3
 671 0578 0B304BE5 		strb	r3, [fp, #-11]
 298:../cyfxconfigfpga.c ****         gpioClock.halfDiv = 0;
 672              		.loc 1 298 0
 673 057c 0030A0E3 		mov	r3, #0
 674 0580 10300BE5 		str	r3, [fp, #-16]
 299:../cyfxconfigfpga.c **** 
 300:../cyfxconfigfpga.c ****         /* Initialize Gpio interface */
 301:../cyfxconfigfpga.c ****         apiRetStatus = CyU3PGpioInit(&gpioClock, NULL);
 675              		.loc 1 301 0
 676 0584 14304BE2 		sub	r3, fp, #20
 677 0588 0300A0E1 		mov	r0, r3
 678 058c 0010A0E3 		mov	r1, #0
 679 0590 FEFFFFEB 		bl	CyU3PGpioInit
 680 0594 08000BE5 		str	r0, [fp, #-8]
 302:../cyfxconfigfpga.c ****         if (apiRetStatus != 0)
 681              		.loc 1 302 0
 682 0598 08301BE5 		ldr	r3, [fp, #-8]
 683 059c 000053E3 		cmp	r3, #0
 684 05a0 0500000A 		beq	.L35
 303:../cyfxconfigfpga.c ****         {
 304:../cyfxconfigfpga.c ****             /* Error Handling */
 305:../cyfxconfigfpga.c ****             CyU3PDebugPrint (4, "GPIO Init failed, Error Code = %d\n",apiRetStatus);
 685              		.loc 1 305 0
 686 05a4 0400A0E3 		mov	r0, #4
 687 05a8 6C139FE5 		ldr	r1, .L50+20
 688 05ac 08201BE5 		ldr	r2, [fp, #-8]
 689 05b0 FEFFFFEB 		bl	CyU3PDebugPrint
 306:../cyfxconfigfpga.c ****             CyFxAppErrorHandler(apiRetStatus);
 690              		.loc 1 306 0
 691 05b4 08001BE5 		ldr	r0, [fp, #-8]
 692 05b8 FEFFFFEB 		bl	CyFxAppErrorHandler
 693              	.L35:
 307:../cyfxconfigfpga.c ****         }
 308:../cyfxconfigfpga.c **** 
 309:../cyfxconfigfpga.c ****           /* Configure GPIO 52 as input */
 310:../cyfxconfigfpga.c ****           gpioConfig.outValue = CyTrue;
 694              		.loc 1 310 0
 695 05bc 0130A0E3 		mov	r3, #1
 696 05c0 28300BE5 		str	r3, [fp, #-40]
 311:../cyfxconfigfpga.c **** 		  gpioConfig.inputEn = CyTrue;
 697              		.loc 1 311 0
 698 05c4 0130A0E3 		mov	r3, #1
 699 05c8 1C300BE5 		str	r3, [fp, #-28]
 312:../cyfxconfigfpga.c **** 		  gpioConfig.driveLowEn = CyFalse;
 700              		.loc 1 312 0
 701 05cc 0030A0E3 		mov	r3, #0
 702 05d0 24300BE5 		str	r3, [fp, #-36]
 313:../cyfxconfigfpga.c **** 		  gpioConfig.driveHighEn = CyFalse;
 703              		.loc 1 313 0
 704 05d4 0030A0E3 		mov	r3, #0
 705 05d8 20300BE5 		str	r3, [fp, #-32]
 314:../cyfxconfigfpga.c **** 		  gpioConfig.intrMode = CY_U3P_GPIO_INTR_BOTH_EDGE;
 706              		.loc 1 314 0
 707 05dc 0330A0E3 		mov	r3, #3
 708 05e0 18304BE5 		strb	r3, [fp, #-24]
 315:../cyfxconfigfpga.c ****           apiRetStatus = CyU3PGpioSetSimpleConfig(FPGA_INIT_B, &gpioConfig);
 709              		.loc 1 315 0
 710 05e4 28304BE2 		sub	r3, fp, #40
 711 05e8 1A00A0E3 		mov	r0, #26
 712 05ec 0310A0E1 		mov	r1, r3
 713 05f0 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
 714 05f4 08000BE5 		str	r0, [fp, #-8]
 316:../cyfxconfigfpga.c ****           if (apiRetStatus != CY_U3P_SUCCESS)
 715              		.loc 1 316 0
 716 05f8 08301BE5 		ldr	r3, [fp, #-8]
 717 05fc 000053E3 		cmp	r3, #0
 718 0600 0500000A 		beq	.L36
 317:../cyfxconfigfpga.c ****           {
 318:../cyfxconfigfpga.c ****               /* Error handling */
 319:../cyfxconfigfpga.c ****               CyU3PDebugPrint (4, "CyU3PGpioSetSimpleConfig failed, error code = %d\n",
 719              		.loc 1 319 0
 720 0604 0400A0E3 		mov	r0, #4
 721 0608 10139FE5 		ldr	r1, .L50+24
 722 060c 08201BE5 		ldr	r2, [fp, #-8]
 723 0610 FEFFFFEB 		bl	CyU3PDebugPrint
 320:../cyfxconfigfpga.c ****                       apiRetStatus);
 321:../cyfxconfigfpga.c ****               CyFxAppErrorHandler(apiRetStatus);
 724              		.loc 1 321 0
 725 0614 08001BE5 		ldr	r0, [fp, #-8]
 726 0618 FEFFFFEB 		bl	CyFxAppErrorHandler
 727              	.L36:
 322:../cyfxconfigfpga.c ****           }
 323:../cyfxconfigfpga.c **** 
 324:../cyfxconfigfpga.c ****           /* Configure GPIO 50 as input with interrupt enabled for both edges */
 325:../cyfxconfigfpga.c ****             apiRetStatus = CyU3PGpioSetSimpleConfig(FPGA_DONE, &gpioConfig);
 728              		.loc 1 325 0
 729 061c 28304BE2 		sub	r3, fp, #40
 730 0620 1B00A0E3 		mov	r0, #27
 731 0624 0310A0E1 		mov	r1, r3
 732 0628 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
 733 062c 08000BE5 		str	r0, [fp, #-8]
 326:../cyfxconfigfpga.c ****             if (apiRetStatus != CY_U3P_SUCCESS)
 734              		.loc 1 326 0
 735 0630 08301BE5 		ldr	r3, [fp, #-8]
 736 0634 000053E3 		cmp	r3, #0
 737 0638 0500000A 		beq	.L37
 327:../cyfxconfigfpga.c ****             {
 328:../cyfxconfigfpga.c ****                 /* Error handling */
 329:../cyfxconfigfpga.c ****                 CyU3PDebugPrint (4, "CyU3PGpioSetSimpleConfig failed, error code = %d\n",
 738              		.loc 1 329 0
 739 063c 0400A0E3 		mov	r0, #4
 740 0640 D8129FE5 		ldr	r1, .L50+24
 741 0644 08201BE5 		ldr	r2, [fp, #-8]
 742 0648 FEFFFFEB 		bl	CyU3PDebugPrint
 330:../cyfxconfigfpga.c ****                         apiRetStatus);
 331:../cyfxconfigfpga.c ****                 CyFxAppErrorHandler(apiRetStatus);
 743              		.loc 1 331 0
 744 064c 08001BE5 		ldr	r0, [fp, #-8]
 745 0650 FEFFFFEB 		bl	CyFxAppErrorHandler
 746              	.L37:
 332:../cyfxconfigfpga.c ****             }
 333:../cyfxconfigfpga.c **** 
 334:../cyfxconfigfpga.c **** 
 335:../cyfxconfigfpga.c ****           /******************/
 336:../cyfxconfigfpga.c ****           /* Configure GPIO end*/
 337:../cyfxconfigfpga.c ****           /******************/
 338:../cyfxconfigfpga.c **** 
 339:../cyfxconfigfpga.c ****     /* Start the USB functionality. */
 340:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbStart();
 747              		.loc 1 340 0
 748 0654 FEFFFFEB 		bl	CyU3PUsbStart
 749 0658 08000BE5 		str	r0, [fp, #-8]
 341:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 750              		.loc 1 341 0
 751 065c 08301BE5 		ldr	r3, [fp, #-8]
 752 0660 000053E3 		cmp	r3, #0
 753 0664 0500000A 		beq	.L38
 342:../cyfxconfigfpga.c ****     {
 343:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "CyU3PUsbStart failed to Start, Error code = %d\n", apiRetStatus);
 754              		.loc 1 343 0
 755 0668 0400A0E3 		mov	r0, #4
 756 066c B0129FE5 		ldr	r1, .L50+28
 757 0670 08201BE5 		ldr	r2, [fp, #-8]
 758 0674 FEFFFFEB 		bl	CyU3PDebugPrint
 344:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 759              		.loc 1 344 0
 760 0678 08001BE5 		ldr	r0, [fp, #-8]
 761 067c FEFFFFEB 		bl	CyFxAppErrorHandler
 762              	.L38:
 345:../cyfxconfigfpga.c ****     }
 346:../cyfxconfigfpga.c **** 
 347:../cyfxconfigfpga.c ****     /* The fast enumeration is the easiest way to setup a USB connection,
 348:../cyfxconfigfpga.c ****      * where all enumeration phase is handled by the library. Only the
 349:../cyfxconfigfpga.c ****      * class / vendor requests need to be handled by the application. */
 350:../cyfxconfigfpga.c ****     CyU3PUsbRegisterSetupCallback(CyFxSlFifoApplnUSBSetupCB, CyTrue);
 763              		.loc 1 350 0
 764 0680 A0029FE5 		ldr	r0, .L50+32
 765 0684 0110A0E3 		mov	r1, #1
 766 0688 FEFFFFEB 		bl	CyU3PUsbRegisterSetupCallback
 351:../cyfxconfigfpga.c **** 
 352:../cyfxconfigfpga.c ****     /* Setup the callback to handle the USB events. */
 353:../cyfxconfigfpga.c ****     CyU3PUsbRegisterEventCallback(CyFxSlFifoApplnUSBEventCB);
 767              		.loc 1 353 0
 768 068c 98029FE5 		ldr	r0, .L50+36
 769 0690 FEFFFFEB 		bl	CyU3PUsbRegisterEventCallback
 354:../cyfxconfigfpga.c **** 
 355:../cyfxconfigfpga.c ****     /* Register a callback to handle LPM requests from the USB 3.0 host. */
 356:../cyfxconfigfpga.c ****     CyU3PUsbRegisterLPMRequestCallback(CyFxApplnLPMRqtCB);
 770              		.loc 1 356 0
 771 0694 94029FE5 		ldr	r0, .L50+40
 772 0698 FEFFFFEB 		bl	CyU3PUsbRegisterLPMRequestCallback
 357:../cyfxconfigfpga.c **** 
 358:../cyfxconfigfpga.c ****     /* Set the USB Enumeration descriptors */
 359:../cyfxconfigfpga.c **** 
 360:../cyfxconfigfpga.c ****     /* Super speed device descriptor. */
 361:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_DEVICE_DESCR, 0, (uint8_t *)CyFxUSB30DeviceDsc
 773              		.loc 1 361 0
 774 069c 0000A0E3 		mov	r0, #0
 775 06a0 0010A0E3 		mov	r1, #0
 776 06a4 88229FE5 		ldr	r2, .L50+44
 777 06a8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 778 06ac 08000BE5 		str	r0, [fp, #-8]
 362:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 779              		.loc 1 362 0
 780 06b0 08301BE5 		ldr	r3, [fp, #-8]
 781 06b4 000053E3 		cmp	r3, #0
 782 06b8 0500000A 		beq	.L39
 363:../cyfxconfigfpga.c ****     {
 364:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set device descriptor failed, Error code = %d\n", apiRetStatus);
 783              		.loc 1 364 0
 784 06bc 0400A0E3 		mov	r0, #4
 785 06c0 70129FE5 		ldr	r1, .L50+48
 786 06c4 08201BE5 		ldr	r2, [fp, #-8]
 787 06c8 FEFFFFEB 		bl	CyU3PDebugPrint
 365:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 788              		.loc 1 365 0
 789 06cc 08001BE5 		ldr	r0, [fp, #-8]
 790 06d0 FEFFFFEB 		bl	CyFxAppErrorHandler
 791              	.L39:
 366:../cyfxconfigfpga.c ****     }
 367:../cyfxconfigfpga.c **** 
 368:../cyfxconfigfpga.c ****     /* High speed device descriptor. */
 369:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_DEVICE_DESCR, 0, (uint8_t *)CyFxUSB20DeviceDsc
 792              		.loc 1 369 0
 793 06d4 0100A0E3 		mov	r0, #1
 794 06d8 0010A0E3 		mov	r1, #0
 795 06dc 58229FE5 		ldr	r2, .L50+52
 796 06e0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 797 06e4 08000BE5 		str	r0, [fp, #-8]
 370:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 798              		.loc 1 370 0
 799 06e8 08301BE5 		ldr	r3, [fp, #-8]
 800 06ec 000053E3 		cmp	r3, #0
 801 06f0 0500000A 		beq	.L40
 371:../cyfxconfigfpga.c ****     {
 372:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set device descriptor failed, Error code = %d\n", apiRetStatus);
 802              		.loc 1 372 0
 803 06f4 0400A0E3 		mov	r0, #4
 804 06f8 38129FE5 		ldr	r1, .L50+48
 805 06fc 08201BE5 		ldr	r2, [fp, #-8]
 806 0700 FEFFFFEB 		bl	CyU3PDebugPrint
 373:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 807              		.loc 1 373 0
 808 0704 08001BE5 		ldr	r0, [fp, #-8]
 809 0708 FEFFFFEB 		bl	CyFxAppErrorHandler
 810              	.L40:
 374:../cyfxconfigfpga.c ****     }
 375:../cyfxconfigfpga.c **** 
 376:../cyfxconfigfpga.c ****     /* BOS descriptor */
 377:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_BOS_DESCR, 0, (uint8_t *)CyFxUSBBOSDscr);
 811              		.loc 1 377 0
 812 070c 0700A0E3 		mov	r0, #7
 813 0710 0010A0E3 		mov	r1, #0
 814 0714 24229FE5 		ldr	r2, .L50+56
 815 0718 FEFFFFEB 		bl	CyU3PUsbSetDesc
 816 071c 08000BE5 		str	r0, [fp, #-8]
 378:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 817              		.loc 1 378 0
 818 0720 08301BE5 		ldr	r3, [fp, #-8]
 819 0724 000053E3 		cmp	r3, #0
 820 0728 0500000A 		beq	.L41
 379:../cyfxconfigfpga.c ****     {
 380:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set configuration descriptor failed, Error code = %d\n", apiRetSta
 821              		.loc 1 380 0
 822 072c 0400A0E3 		mov	r0, #4
 823 0730 0C129FE5 		ldr	r1, .L50+60
 824 0734 08201BE5 		ldr	r2, [fp, #-8]
 825 0738 FEFFFFEB 		bl	CyU3PDebugPrint
 381:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 826              		.loc 1 381 0
 827 073c 08001BE5 		ldr	r0, [fp, #-8]
 828 0740 FEFFFFEB 		bl	CyFxAppErrorHandler
 829              	.L41:
 382:../cyfxconfigfpga.c ****     }
 383:../cyfxconfigfpga.c **** 
 384:../cyfxconfigfpga.c ****     /* Device qualifier descriptor */
 385:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_DEVQUAL_DESCR, 0, (uint8_t *)CyFxUSBDeviceQualDsc
 830              		.loc 1 385 0
 831 0744 0200A0E3 		mov	r0, #2
 832 0748 0010A0E3 		mov	r1, #0
 833 074c F4219FE5 		ldr	r2, .L50+64
 834 0750 FEFFFFEB 		bl	CyU3PUsbSetDesc
 835 0754 08000BE5 		str	r0, [fp, #-8]
 386:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 836              		.loc 1 386 0
 837 0758 08301BE5 		ldr	r3, [fp, #-8]
 838 075c 000053E3 		cmp	r3, #0
 839 0760 0500000A 		beq	.L42
 387:../cyfxconfigfpga.c ****     {
 388:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set device qualifier descriptor failed, Error code = %d\n", apiRet
 840              		.loc 1 388 0
 841 0764 0400A0E3 		mov	r0, #4
 842 0768 DC119FE5 		ldr	r1, .L50+68
 843 076c 08201BE5 		ldr	r2, [fp, #-8]
 844 0770 FEFFFFEB 		bl	CyU3PDebugPrint
 389:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 845              		.loc 1 389 0
 846 0774 08001BE5 		ldr	r0, [fp, #-8]
 847 0778 FEFFFFEB 		bl	CyFxAppErrorHandler
 848              	.L42:
 390:../cyfxconfigfpga.c ****     }
 391:../cyfxconfigfpga.c **** 
 392:../cyfxconfigfpga.c ****     /* Super speed configuration descriptor */
 393:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_CONFIG_DESCR, 0, (uint8_t *)CyFxUSBSSConfigDsc
 849              		.loc 1 393 0
 850 077c 0600A0E3 		mov	r0, #6
 851 0780 0010A0E3 		mov	r1, #0
 852 0784 C4219FE5 		ldr	r2, .L50+72
 853 0788 FEFFFFEB 		bl	CyU3PUsbSetDesc
 854 078c 08000BE5 		str	r0, [fp, #-8]
 394:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 855              		.loc 1 394 0
 856 0790 08301BE5 		ldr	r3, [fp, #-8]
 857 0794 000053E3 		cmp	r3, #0
 858 0798 0500000A 		beq	.L43
 395:../cyfxconfigfpga.c ****     {
 396:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set configuration descriptor failed, Error code = %d\n", apiRetSta
 859              		.loc 1 396 0
 860 079c 0400A0E3 		mov	r0, #4
 861 07a0 9C119FE5 		ldr	r1, .L50+60
 862 07a4 08201BE5 		ldr	r2, [fp, #-8]
 863 07a8 FEFFFFEB 		bl	CyU3PDebugPrint
 397:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 864              		.loc 1 397 0
 865 07ac 08001BE5 		ldr	r0, [fp, #-8]
 866 07b0 FEFFFFEB 		bl	CyFxAppErrorHandler
 867              	.L43:
 398:../cyfxconfigfpga.c ****     }
 399:../cyfxconfigfpga.c **** 
 400:../cyfxconfigfpga.c ****     /* High speed configuration descriptor */
 401:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_CONFIG_DESCR, 0, (uint8_t *)CyFxUSBHSConfigDsc
 868              		.loc 1 401 0
 869 07b4 0400A0E3 		mov	r0, #4
 870 07b8 0010A0E3 		mov	r1, #0
 871 07bc 90219FE5 		ldr	r2, .L50+76
 872 07c0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 873 07c4 08000BE5 		str	r0, [fp, #-8]
 402:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 874              		.loc 1 402 0
 875 07c8 08301BE5 		ldr	r3, [fp, #-8]
 876 07cc 000053E3 		cmp	r3, #0
 877 07d0 0500000A 		beq	.L44
 403:../cyfxconfigfpga.c ****     {
 404:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB Set Other Speed Descriptor failed, Error Code = %d\n", apiRetStatu
 878              		.loc 1 404 0
 879 07d4 0400A0E3 		mov	r0, #4
 880 07d8 78119FE5 		ldr	r1, .L50+80
 881 07dc 08201BE5 		ldr	r2, [fp, #-8]
 882 07e0 FEFFFFEB 		bl	CyU3PDebugPrint
 405:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 883              		.loc 1 405 0
 884 07e4 08001BE5 		ldr	r0, [fp, #-8]
 885 07e8 FEFFFFEB 		bl	CyFxAppErrorHandler
 886              	.L44:
 406:../cyfxconfigfpga.c ****     }
 407:../cyfxconfigfpga.c **** 
 408:../cyfxconfigfpga.c ****     /* Full speed configuration descriptor */
 409:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_FS_CONFIG_DESCR, 0, (uint8_t *)CyFxUSBFSConfigDsc
 887              		.loc 1 409 0
 888 07ec 0300A0E3 		mov	r0, #3
 889 07f0 0010A0E3 		mov	r1, #0
 890 07f4 60219FE5 		ldr	r2, .L50+84
 891 07f8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 892 07fc 08000BE5 		str	r0, [fp, #-8]
 410:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 893              		.loc 1 410 0
 894 0800 08301BE5 		ldr	r3, [fp, #-8]
 895 0804 000053E3 		cmp	r3, #0
 896 0808 0500000A 		beq	.L45
 411:../cyfxconfigfpga.c ****     {
 412:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB Set Configuration Descriptor failed, Error Code = %d\n", apiRetSta
 897              		.loc 1 412 0
 898 080c 0400A0E3 		mov	r0, #4
 899 0810 48119FE5 		ldr	r1, .L50+88
 900 0814 08201BE5 		ldr	r2, [fp, #-8]
 901 0818 FEFFFFEB 		bl	CyU3PDebugPrint
 413:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 902              		.loc 1 413 0
 903 081c 08001BE5 		ldr	r0, [fp, #-8]
 904 0820 FEFFFFEB 		bl	CyFxAppErrorHandler
 905              	.L45:
 414:../cyfxconfigfpga.c ****     }
 415:../cyfxconfigfpga.c **** 
 416:../cyfxconfigfpga.c ****     /* String descriptor 0 */
 417:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 0, (uint8_t *)CyFxUSBStringLangIDDs
 906              		.loc 1 417 0
 907 0824 0500A0E3 		mov	r0, #5
 908 0828 0010A0E3 		mov	r1, #0
 909 082c 30219FE5 		ldr	r2, .L50+92
 910 0830 FEFFFFEB 		bl	CyU3PUsbSetDesc
 911 0834 08000BE5 		str	r0, [fp, #-8]
 418:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 912              		.loc 1 418 0
 913 0838 08301BE5 		ldr	r3, [fp, #-8]
 914 083c 000053E3 		cmp	r3, #0
 915 0840 0500000A 		beq	.L46
 419:../cyfxconfigfpga.c ****     {
 420:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
 916              		.loc 1 420 0
 917 0844 0400A0E3 		mov	r0, #4
 918 0848 18119FE5 		ldr	r1, .L50+96
 919 084c 08201BE5 		ldr	r2, [fp, #-8]
 920 0850 FEFFFFEB 		bl	CyU3PDebugPrint
 421:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 921              		.loc 1 421 0
 922 0854 08001BE5 		ldr	r0, [fp, #-8]
 923 0858 FEFFFFEB 		bl	CyFxAppErrorHandler
 924              	.L46:
 422:../cyfxconfigfpga.c ****     }
 423:../cyfxconfigfpga.c **** 
 424:../cyfxconfigfpga.c ****     /* String descriptor 1 */
 425:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 1, (uint8_t *)CyFxUSBManufactureDsc
 925              		.loc 1 425 0
 926 085c 0500A0E3 		mov	r0, #5
 927 0860 0110A0E3 		mov	r1, #1
 928 0864 00219FE5 		ldr	r2, .L50+100
 929 0868 FEFFFFEB 		bl	CyU3PUsbSetDesc
 930 086c 08000BE5 		str	r0, [fp, #-8]
 426:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 931              		.loc 1 426 0
 932 0870 08301BE5 		ldr	r3, [fp, #-8]
 933 0874 000053E3 		cmp	r3, #0
 934 0878 0500000A 		beq	.L47
 427:../cyfxconfigfpga.c ****     {
 428:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
 935              		.loc 1 428 0
 936 087c 0400A0E3 		mov	r0, #4
 937 0880 E0109FE5 		ldr	r1, .L50+96
 938 0884 08201BE5 		ldr	r2, [fp, #-8]
 939 0888 FEFFFFEB 		bl	CyU3PDebugPrint
 429:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 940              		.loc 1 429 0
 941 088c 08001BE5 		ldr	r0, [fp, #-8]
 942 0890 FEFFFFEB 		bl	CyFxAppErrorHandler
 943              	.L47:
 430:../cyfxconfigfpga.c ****     }
 431:../cyfxconfigfpga.c **** 
 432:../cyfxconfigfpga.c ****     /* String descriptor 2 */
 433:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 2, (uint8_t *)CyFxUSBProductDscr);
 944              		.loc 1 433 0
 945 0894 0500A0E3 		mov	r0, #5
 946 0898 0210A0E3 		mov	r1, #2
 947 089c CC209FE5 		ldr	r2, .L50+104
 948 08a0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 949 08a4 08000BE5 		str	r0, [fp, #-8]
 434:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 950              		.loc 1 434 0
 951 08a8 08301BE5 		ldr	r3, [fp, #-8]
 952 08ac 000053E3 		cmp	r3, #0
 953 08b0 0500000A 		beq	.L48
 435:../cyfxconfigfpga.c ****     {
 436:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
 954              		.loc 1 436 0
 955 08b4 0400A0E3 		mov	r0, #4
 956 08b8 A8109FE5 		ldr	r1, .L50+96
 957 08bc 08201BE5 		ldr	r2, [fp, #-8]
 958 08c0 FEFFFFEB 		bl	CyU3PDebugPrint
 437:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 959              		.loc 1 437 0
 960 08c4 08001BE5 		ldr	r0, [fp, #-8]
 961 08c8 FEFFFFEB 		bl	CyFxAppErrorHandler
 962              	.L48:
 438:../cyfxconfigfpga.c ****     }
 439:../cyfxconfigfpga.c **** 
 440:../cyfxconfigfpga.c ****     /* Connect the USB Pins with super speed operation enabled. */
 441:../cyfxconfigfpga.c ****     apiRetStatus = CyU3PConnectState(CyTrue, CyTrue);
 963              		.loc 1 441 0
 964 08cc 0100A0E3 		mov	r0, #1
 965 08d0 0110A0E3 		mov	r1, #1
 966 08d4 FEFFFFEB 		bl	CyU3PConnectState
 967 08d8 08000BE5 		str	r0, [fp, #-8]
 442:../cyfxconfigfpga.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 968              		.loc 1 442 0
 969 08dc 08301BE5 		ldr	r3, [fp, #-8]
 970 08e0 000053E3 		cmp	r3, #0
 971 08e4 0500000A 		beq	.L31
 443:../cyfxconfigfpga.c ****     {
 444:../cyfxconfigfpga.c ****         CyU3PDebugPrint (4, "USB Connect failed, Error code = %d\n", apiRetStatus);
 972              		.loc 1 444 0
 973 08e8 0400A0E3 		mov	r0, #4
 974 08ec 80109FE5 		ldr	r1, .L50+108
 975 08f0 08201BE5 		ldr	r2, [fp, #-8]
 976 08f4 FEFFFFEB 		bl	CyU3PDebugPrint
 445:../cyfxconfigfpga.c ****         CyFxAppErrorHandler(apiRetStatus);
 977              		.loc 1 445 0
 978 08f8 08001BE5 		ldr	r0, [fp, #-8]
 979 08fc FEFFFFEB 		bl	CyFxAppErrorHandler
 980              	.L31:
 446:../cyfxconfigfpga.c ****     }
 447:../cyfxconfigfpga.c **** }
 981              		.loc 1 447 0
 982 0900 04D04BE2 		sub	sp, fp, #4
 983              		@ sp needed
 984 0904 0088BDE8 		ldmfd	sp!, {fp, pc}
 985              	.L51:
 986              		.align	2
 987              	.L50:
 988 0908 00000000 		.word	glFxConfigFpgaAppEvent
 989 090c BC000000 		.word	.LC5
 990 0910 E4000000 		.word	.LC6
 991 0914 40787D01 		.word	25000000
 992 0918 08010000 		.word	.LC7
 993 091c 2C010000 		.word	.LC8
 994 0920 50010000 		.word	.LC9
 995 0924 84010000 		.word	.LC10
 996 0928 00000000 		.word	CyFxSlFifoApplnUSBSetupCB
 997 092c 00000000 		.word	CyFxSlFifoApplnUSBEventCB
 998 0930 00000000 		.word	CyFxApplnLPMRqtCB
 999 0934 00000000 		.word	CyFxUSB30DeviceDscr
 1000 0938 B4010000 		.word	.LC11
 1001 093c 00000000 		.word	CyFxUSB20DeviceDscr
 1002 0940 00000000 		.word	CyFxUSBBOSDscr
 1003 0944 E8010000 		.word	.LC12
 1004 0948 00000000 		.word	CyFxUSBDeviceQualDscr
 1005 094c 24020000 		.word	.LC13
 1006 0950 00000000 		.word	CyFxUSBSSConfigDscr
 1007 0954 00000000 		.word	CyFxUSBHSConfigDscr
 1008 0958 64020000 		.word	.LC14
 1009 095c 00000000 		.word	CyFxUSBFSConfigDscr
 1010 0960 9C020000 		.word	.LC15
 1011 0964 00000000 		.word	CyFxUSBStringLangIDDscr
 1012 0968 D8020000 		.word	.LC16
 1013 096c 00000000 		.word	CyFxUSBManufactureDscr
 1014 0970 00000000 		.word	CyFxUSBProductDscr
 1015 0974 0C030000 		.word	.LC17
 1016              		.cfi_endproc
 1017              	.LFE3:
 1019              		.align	2
 1020              		.global	main
 1022              	main:
 1023              	.LFB4:
 448:../cyfxconfigfpga.c **** 
 449:../cyfxconfigfpga.c **** 
 450:../cyfxconfigfpga.c **** 
 451:../cyfxconfigfpga.c **** /*
 452:../cyfxconfigfpga.c ****  * Main function
 453:../cyfxconfigfpga.c ****  */
 454:../cyfxconfigfpga.c **** int
 455:../cyfxconfigfpga.c **** main (void)
 456:../cyfxconfigfpga.c **** {
 1024              		.loc 1 456 0
 1025              		.cfi_startproc
 1026              		@ args = 0, pretend = 0, frame = 64
 1027              		@ frame_needed = 1, uses_anonymous_args = 0
 1028 0978 00482DE9 		stmfd	sp!, {fp, lr}
 1029              	.LCFI8:
 1030              		.cfi_def_cfa_offset 8
 1031              		.cfi_offset 11, -8
 1032              		.cfi_offset 14, -4
 1033 097c 04B08DE2 		add	fp, sp, #4
 1034              	.LCFI9:
 1035              		.cfi_def_cfa 11, 4
 1036 0980 40D04DE2 		sub	sp, sp, #64
 457:../cyfxconfigfpga.c ****     CyU3PIoMatrixConfig_t io_cfg;
 458:../cyfxconfigfpga.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1037              		.loc 1 458 0
 1038 0984 0030A0E3 		mov	r3, #0
 1039 0988 08300BE5 		str	r3, [fp, #-8]
 459:../cyfxconfigfpga.c ****     CyU3PSysClockConfig_t clkCfg;
 460:../cyfxconfigfpga.c **** 
 461:../cyfxconfigfpga.c ****         /* setSysClk400 clock configurations */
 462:../cyfxconfigfpga.c ****         clkCfg.setSysClk400 = CyTrue;   /* FX3 device's master clock is set to a frequency > 400 MH
 1040              		.loc 1 462 0
 1041 098c 0130A0E3 		mov	r3, #1
 1042 0990 40300BE5 		str	r3, [fp, #-64]
 463:../cyfxconfigfpga.c ****         clkCfg.cpuClkDiv = 2;           /* CPU clock divider */
 1043              		.loc 1 463 0
 1044 0994 0230A0E3 		mov	r3, #2
 1045 0998 3C304BE5 		strb	r3, [fp, #-60]
 464:../cyfxconfigfpga.c ****         clkCfg.dmaClkDiv = 2;           /* DMA clock divider */
 1046              		.loc 1 464 0
 1047 099c 0230A0E3 		mov	r3, #2
 1048 09a0 3B304BE5 		strb	r3, [fp, #-59]
 465:../cyfxconfigfpga.c ****         clkCfg.mmioClkDiv = 2;          /* MMIO clock divider */
 1049              		.loc 1 465 0
 1050 09a4 0230A0E3 		mov	r3, #2
 1051 09a8 3A304BE5 		strb	r3, [fp, #-58]
 466:../cyfxconfigfpga.c ****         clkCfg.useStandbyClk = CyFalse; /* device has no 32KHz clock supplied */
 1052              		.loc 1 466 0
 1053 09ac 0030A0E3 		mov	r3, #0
 1054 09b0 38300BE5 		str	r3, [fp, #-56]
 467:../cyfxconfigfpga.c ****         clkCfg.clkSrc = CY_U3P_SYS_CLK; /* Clock source for a peripheral block  */
 1055              		.loc 1 467 0
 1056 09b4 0330A0E3 		mov	r3, #3
 1057 09b8 34304BE5 		strb	r3, [fp, #-52]
 468:../cyfxconfigfpga.c **** 
 469:../cyfxconfigfpga.c ****     /* Initialize the device */
 470:../cyfxconfigfpga.c ****     status = CyU3PDeviceInit (&clkCfg);
 1058              		.loc 1 470 0
 1059 09bc 40304BE2 		sub	r3, fp, #64
 1060 09c0 0300A0E1 		mov	r0, r3
 1061 09c4 FEFFFFEB 		bl	CyU3PDeviceInit
 1062 09c8 08000BE5 		str	r0, [fp, #-8]
 471:../cyfxconfigfpga.c ****     if (status != CY_U3P_SUCCESS)
 1063              		.loc 1 471 0
 1064 09cc 08301BE5 		ldr	r3, [fp, #-8]
 1065 09d0 000053E3 		cmp	r3, #0
 1066 09d4 0000000A 		beq	.L53
 472:../cyfxconfigfpga.c ****     {
 473:../cyfxconfigfpga.c ****         goto handle_fatal_error;
 1067              		.loc 1 473 0
 1068 09d8 270000EA 		b	.L54
 1069              	.L53:
 474:../cyfxconfigfpga.c ****     }
 475:../cyfxconfigfpga.c **** 
 476:../cyfxconfigfpga.c ****     /* Initialize the caches. Enable instruction cache and keep data cache disabled.
 477:../cyfxconfigfpga.c ****      * The data cache is useful only when there is a large amount of CPU based memory
 478:../cyfxconfigfpga.c ****      * accesses. When used in simple cases, it can decrease performance due to large
 479:../cyfxconfigfpga.c ****      * number of cache flushes and cleans and also it adds to the complexity of the
 480:../cyfxconfigfpga.c ****      * code. */
 481:../cyfxconfigfpga.c ****     status = CyU3PDeviceCacheControl (CyTrue, CyFalse, CyFalse);
 1070              		.loc 1 481 0
 1071 09dc 0100A0E3 		mov	r0, #1
 1072 09e0 0010A0E3 		mov	r1, #0
 1073 09e4 0020A0E3 		mov	r2, #0
 1074 09e8 FEFFFFEB 		bl	CyU3PDeviceCacheControl
 1075 09ec 08000BE5 		str	r0, [fp, #-8]
 482:../cyfxconfigfpga.c ****     if (status != CY_U3P_SUCCESS)
 1076              		.loc 1 482 0
 1077 09f0 08301BE5 		ldr	r3, [fp, #-8]
 1078 09f4 000053E3 		cmp	r3, #0
 1079 09f8 0000000A 		beq	.L55
 483:../cyfxconfigfpga.c ****     {
 484:../cyfxconfigfpga.c ****         goto handle_fatal_error;
 1080              		.loc 1 484 0
 1081 09fc 1E0000EA 		b	.L54
 1082              	.L55:
 485:../cyfxconfigfpga.c ****     }
 486:../cyfxconfigfpga.c **** 
 487:../cyfxconfigfpga.c ****     /* Configure the IO matrix for the device. On the FX3 DVK board, the COM port
 488:../cyfxconfigfpga.c ****      * is connected to the IO(53:56). This means that either DQ32 mode should be
 489:../cyfxconfigfpga.c ****      * selected or lppMode should be set to UART_ONLY. Here we are choosing
 490:../cyfxconfigfpga.c ****      * UART_ONLY configuration for 16 bit slave FIFO configuration and setting
 491:../cyfxconfigfpga.c ****      * isDQ32Bit for 32-bit slave FIFO configuration. */
 492:../cyfxconfigfpga.c ****     io_cfg.useUart   = CyTrue;
 1083              		.loc 1 492 0
 1084 0a00 0130A0E3 		mov	r3, #1
 1085 0a04 2C300BE5 		str	r3, [fp, #-44]
 493:../cyfxconfigfpga.c ****     io_cfg.useI2C    = CyFalse;
 1086              		.loc 1 493 0
 1087 0a08 0030A0E3 		mov	r3, #0
 1088 0a0c 28300BE5 		str	r3, [fp, #-40]
 494:../cyfxconfigfpga.c ****     io_cfg.useI2S    = CyFalse;
 1089              		.loc 1 494 0
 1090 0a10 0030A0E3 		mov	r3, #0
 1091 0a14 24300BE5 		str	r3, [fp, #-36]
 495:../cyfxconfigfpga.c ****     io_cfg.useSpi    = CyTrue;
 1092              		.loc 1 495 0
 1093 0a18 0130A0E3 		mov	r3, #1
 1094 0a1c 20300BE5 		str	r3, [fp, #-32]
 496:../cyfxconfigfpga.c ****     io_cfg.isDQ32Bit = CyFalse;
 1095              		.loc 1 496 0
 1096 0a20 0030A0E3 		mov	r3, #0
 1097 0a24 30300BE5 		str	r3, [fp, #-48]
 497:../cyfxconfigfpga.c ****     io_cfg.lppMode   = CY_U3P_IO_MATRIX_LPP_DEFAULT;
 1098              		.loc 1 497 0
 1099 0a28 0030A0E3 		mov	r3, #0
 1100 0a2c 1A304BE5 		strb	r3, [fp, #-26]
 498:../cyfxconfigfpga.c ****     /* GPIOs 50 and 52 are enabled. */
 499:../cyfxconfigfpga.c ****     io_cfg.gpioSimpleEn[0]  = (1<<FPGA_INIT_B) | (1<<FPGA_DONE) ;
 1101              		.loc 1 499 0
 1102 0a30 0333A0E3 		mov	r3, #201326592
 1103 0a34 18300BE5 		str	r3, [fp, #-24]
 500:../cyfxconfigfpga.c ****     io_cfg.gpioSimpleEn[1]  = 0x00000000;
 1104              		.loc 1 500 0
 1105 0a38 0030A0E3 		mov	r3, #0
 1106 0a3c 14300BE5 		str	r3, [fp, #-20]
 501:../cyfxconfigfpga.c ****     io_cfg.gpioComplexEn[0] = 0;
 1107              		.loc 1 501 0
 1108 0a40 0030A0E3 		mov	r3, #0
 1109 0a44 10300BE5 		str	r3, [fp, #-16]
 502:../cyfxconfigfpga.c ****     io_cfg.gpioComplexEn[1] = 0;
 1110              		.loc 1 502 0
 1111 0a48 0030A0E3 		mov	r3, #0
 1112 0a4c 0C300BE5 		str	r3, [fp, #-12]
 503:../cyfxconfigfpga.c ****     status = CyU3PDeviceConfigureIOMatrix (&io_cfg);
 1113              		.loc 1 503 0
 1114 0a50 30304BE2 		sub	r3, fp, #48
 1115 0a54 0300A0E1 		mov	r0, r3
 1116 0a58 FEFFFFEB 		bl	CyU3PDeviceConfigureIOMatrix
 1117 0a5c 08000BE5 		str	r0, [fp, #-8]
 504:../cyfxconfigfpga.c ****     if (status != CY_U3P_SUCCESS)
 1118              		.loc 1 504 0
 1119 0a60 08301BE5 		ldr	r3, [fp, #-8]
 1120 0a64 000053E3 		cmp	r3, #0
 1121 0a68 0000000A 		beq	.L56
 505:../cyfxconfigfpga.c ****     {
 506:../cyfxconfigfpga.c ****         goto handle_fatal_error;
 1122              		.loc 1 506 0
 1123 0a6c 020000EA 		b	.L54
 1124              	.L56:
 507:../cyfxconfigfpga.c ****     }
 508:../cyfxconfigfpga.c **** 
 509:../cyfxconfigfpga.c ****     /* This is a non returnable call for initializing the RTOS kernel */
 510:../cyfxconfigfpga.c ****     CyU3PKernelEntry ();
 1125              		.loc 1 510 0
 1126 0a70 FEFFFFEB 		bl	_tx_initialize_kernel_enter
 511:../cyfxconfigfpga.c **** 
 512:../cyfxconfigfpga.c ****     /* Dummy return to make the compiler happy */
 513:../cyfxconfigfpga.c ****     return 0;
 1127              		.loc 1 513 0
 1128 0a74 0030A0E3 		mov	r3, #0
 1129 0a78 000000EA 		b	.L58
 1130              	.L54:
 514:../cyfxconfigfpga.c **** 
 515:../cyfxconfigfpga.c **** handle_fatal_error:
 516:../cyfxconfigfpga.c **** 
 517:../cyfxconfigfpga.c ****     /* Cannot recover from this error. */
 518:../cyfxconfigfpga.c ****     while (1);
 1131              		.loc 1 518 0 discriminator 1
 1132 0a7c FEFFFFEA 		b	.L54
 1133              	.L58:
 519:../cyfxconfigfpga.c **** }
 1134              		.loc 1 519 0
 1135 0a80 0300A0E1 		mov	r0, r3
 1136 0a84 04D04BE2 		sub	sp, fp, #4
 1137              		@ sp needed
 1138 0a88 0088BDE8 		ldmfd	sp!, {fp, pc}
 1139              		.cfi_endproc
 1140              	.LFE4:
 1142              	.Letext0:
 1143              		.file 2 "d:\\program files (x86)\\cypress\\ez-usb fx3 sdk\\1.3\\arm gcc\\arm-none-eabi\\include\\s
 1144              		.file 3 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1145              		.file 4 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyfx
 1146              		.file 5 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_p
 1147              		.file 6 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_a
 1148              		.file 7 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1149              		.file 8 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1150              		.file 9 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1151              		.file 10 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1152              		.file 11 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1153              		.file 12 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1154              		.file 13 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1155              		.file 14 "D:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1156              		.file 15 "../cyfxslfifosync.h"
 1157              		.file 16 "../cyfxconfigfpga.h"
DEFINED SYMBOLS
                            *ABS*:00000000 cyfxconfigfpga.c
                            *COM*:000000ac glChHandleUtoCPU
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:22     .data:00000000 glConfigDone
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:19     .data:00000000 $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:29     .bss:00000000 filelen
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:26     .bss:00000000 $d
                            *COM*:00000028 glFxConfigFpgaAppEvent
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:36     .bss:00000004 uiPacketSize
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:39     .rodata:00000000 $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:43     .text:00000000 $a
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:46     .text:00000000 CyFxConfigFpga
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:239    .text:00000200 $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:261    .text:00000214 $a
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:264    .text:00000214 CyFxConfigFpgaApplnStart
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:454    .text:000003f8 $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:465    .text:00000418 $a
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:468    .text:00000418 CyFxConfigFpgaApplnStop
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:507    .text:0000045c $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:561    .text:00000468 $a
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:564    .text:00000468 CyFxConfigFpgaApplnInit
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:988    .text:00000908 $d
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:1019   .text:00000978 $a
C:\Users\FANJIA~1\AppData\Local\Temp\ccjje01d.s:1022   .text:00000978 main
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
CyU3PDebugPrint
CyU3PSpiSetSsnLine
_tx_thread_sleep
CyU3PGpioSimpleGetValue
CyU3PDmaChannelGetBuffer
CyU3PSpiTransmitWords
CyU3PDmaChannelDiscardBuffer
glIsApplnActive
CyU3PUsbGetSpeed
CyFxAppErrorHandler
CyU3PMemSet
CyU3PSetEpConfig
CyU3PDmaChannelCreate
CyU3PUsbFlushEp
CyU3PDmaChannelSetXfer
CyU3PGpioDeInit
CyU3PSpiDeInit
CyU3PUsbGetEpSeqNum
CyU3PDmaChannelDestroy
seqnum_p
_txe_event_flags_create
CyU3PSpiInit
CyU3PSpiSetConfig
CyU3PGpioInit
CyU3PGpioSetSimpleConfig
CyU3PUsbStart
CyU3PUsbRegisterSetupCallback
CyU3PUsbRegisterEventCallback
CyU3PUsbRegisterLPMRequestCallback
CyU3PUsbSetDesc
CyU3PConnectState
CyFxSlFifoApplnUSBSetupCB
CyFxSlFifoApplnUSBEventCB
CyFxApplnLPMRqtCB
CyFxUSB30DeviceDscr
CyFxUSB20DeviceDscr
CyFxUSBBOSDscr
CyFxUSBDeviceQualDscr
CyFxUSBSSConfigDscr
CyFxUSBHSConfigDscr
CyFxUSBFSConfigDscr
CyFxUSBStringLangIDDscr
CyFxUSBManufactureDscr
CyFxUSBProductDscr
CyU3PDeviceInit
CyU3PDeviceCacheControl
CyU3PDeviceConfigureIOMatrix
_tx_initialize_kernel_enter
